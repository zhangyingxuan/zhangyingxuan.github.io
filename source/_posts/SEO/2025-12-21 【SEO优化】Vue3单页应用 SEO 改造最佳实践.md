---
title: 2025-12-21 ã€æ¶æ„ã€‘Vue3å•é¡µåº”ç”¨ SEO æ”¹é€ æœ€ä½³å®è·µ
description: æœ¬æ–‡å°†æ·±å…¥æ¢è®¨é’ˆå¯¹ Vue3 SPA é¡¹ç›®çš„ SEO æ”¹é€ æœ€ä½³å®è·µï¼Œé‡ç‚¹ä»‹ç»ä½æˆæœ¬ã€é«˜æ”¶ç›Šçš„**é¢„æ¸²æŸ“ (Prerendering)** æ–¹æ¡ˆã€‚
categories:
  - æ¶æ„
tags:
  - SEO
---

# Vue3 + TS + Vite å•é¡µåº”ç”¨ SEO æ”¹é€ æœ€ä½³å®è·µ

åœ¨ç°ä»£å‰ç«¯å¼€å‘ä¸­ï¼ŒVue3 + TypeScript + Vite å·²ç»æˆä¸ºæ„å»ºå•é¡µåº”ç”¨ (SPA) çš„ä¸»æµæŠ€æœ¯æ ˆã€‚ç„¶è€Œï¼ŒSPA åŸç”Ÿå­˜åœ¨ SEOï¼ˆæœç´¢å¼•æ“ä¼˜åŒ–ï¼‰çŸ­æ¿ï¼Œå› ä¸ºå…¶å†…å®¹ä¸»è¦é€šè¿‡ JavaScript åŠ¨æ€ç”Ÿæˆï¼Œçˆ¬è™«ï¼ˆå°¤å…¶æ˜¯å›½å†…çš„ç™¾åº¦çˆ¬è™«ï¼‰å¯èƒ½æ— æ³•æ­£ç¡®æŠ“å–å’Œç´¢å¼•é¡µé¢å†…å®¹ã€‚

æœ¬æ–‡å°†æ·±å…¥æ¢è®¨é’ˆå¯¹ Vue3 SPA é¡¹ç›®çš„ SEO æ”¹é€ æœ€ä½³å®è·µï¼Œé‡ç‚¹ä»‹ç»ä½æˆæœ¬ã€é«˜æ”¶ç›Šçš„**é¢„æ¸²æŸ“ (Prerendering)** æ–¹æ¡ˆã€‚

## ğŸ” SPA çš„ SEO ç—›ç‚¹

1.  **å†…å®¹æŠ“å–å›°éš¾**: çˆ¬è™«æŠ“å–åˆ°çš„ HTML é€šå¸¸åªæœ‰ä¸€ä¸ªç©ºçš„ `<div id="app"></div>`ï¼Œå†…å®¹éœ€è¦ JS æ‰§è¡Œåæ‰æ¸²æŸ“ã€‚
2.  **é¦–å±åŠ è½½æ…¢**: éœ€è¦ä¸‹è½½å¹¶è§£æ JS åæ‰èƒ½æ˜¾ç¤ºå†…å®¹ï¼Œå½±å“ç”¨æˆ·ä½“éªŒå’Œæœç´¢å¼•æ“è¯„åˆ† (Core Web Vitals)ã€‚
3.  **Meta ä¿¡æ¯ç¼ºå¤±**: æ¯ä¸ªé¡µé¢çš„ Titleã€Description é€šå¸¸æ˜¯å›ºå®šçš„ï¼Œæ— æ³•æ ¹æ®è·¯ç”±åŠ¨æ€å˜åŒ–ã€‚

## ğŸ› ï¸ è§£å†³æ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ                      | æè¿°                                                       | ä¼˜ç‚¹                                       | ç¼ºç‚¹                                           | é€‚ç”¨åœºæ™¯                           |
| :------------------------ | :--------------------------------------------------------- | :----------------------------------------- | :--------------------------------------------- | :--------------------------------- |
| **SSR (æœåŠ¡ç«¯æ¸²æŸ“)**      | ä½¿ç”¨ Nuxt.js æˆ– Vite SSRï¼Œåœ¨æœåŠ¡ç«¯æ¸²æŸ“ HTMLã€‚              | SEO æ•ˆæœæœ€å¥½ï¼Œé¦–å±æå¿«ã€‚                   | å¼€å‘/éƒ¨ç½²æˆæœ¬é«˜ï¼Œéœ€è¦ Node.js æœåŠ¡å™¨æ”¯æŒã€‚     | å¤§å‹å†…å®¹å‹ç½‘ç«™ï¼Œå¯¹ SEO è¦æ±‚æé«˜ã€‚  |
| **SSG (é™æ€ç«™ç‚¹ç”Ÿæˆ)**    | æ„å»ºæ—¶ç”Ÿæˆæ¯ä¸ªè·¯ç”±çš„é™æ€ HTMLã€‚                            | çº¯é™æ€æ–‡ä»¶ï¼Œéƒ¨ç½²ç®€å• (Nginx/CDN)ï¼ŒSEO å¥½ã€‚ | æ„å»ºæ—¶é—´éšé¡µé¢æ•°é‡å¢åŠ ï¼Œä¸é€‚åˆé¢‘ç¹å˜åŠ¨çš„æ•°æ®ã€‚ | åšå®¢ã€æ–‡æ¡£ã€è¥é”€é¡µã€‚               |
| **é¢„æ¸²æŸ“ (Prerendering)** | æ„å»ºåé€šè¿‡æ— å¤´æµè§ˆå™¨ (Puppeteer) è·‘ä¸€éé¡µé¢ï¼Œä¿å­˜ä¸º HTMLã€‚ | **ä¾µå…¥æ€§å°**ï¼Œæ— éœ€æ”¹é€ ä»£ç æ¶æ„ï¼Œéƒ¨ç½²ç®€å•ã€‚ | ä»…é€‚ç”¨äºé™æ€è·¯ç”±ï¼ŒåŠ¨æ€è·¯ç”±é…ç½®å¤æ‚ã€‚           | **ä¸­å°å‹ SPA é¡¹ç›® SEO æ”¹é€ é¦–é€‰ã€‚** |

å¯¹äºå¤§å¤šæ•°å·²ç»å¼€å‘å®Œæˆçš„ SPA é¡¹ç›®ï¼Œ**é¢„æ¸²æŸ“**æ˜¯æ€§ä»·æ¯”æœ€é«˜çš„æ”¹é€ æ–¹æ¡ˆã€‚

## ğŸš€ å®æˆ˜æ–¹æ¡ˆä¸€ï¼šåŸºäº `vite-plugin-prerender` çš„é¢„æ¸²æŸ“æ”¹é€ 

> **âš ï¸ æ³¨æ„**ï¼šè¯¥æ’ä»¶ä¾èµ– Puppeteer (æ— å¤´ Chrome)ï¼Œå®‰è£…åŒ…ä½“ç§¯è¾ƒå¤§ä¸”å¯èƒ½å—ç½‘ç»œç¯å¢ƒå½±å“å¯¼è‡´å®‰è£…å¤±è´¥ã€‚æ„å»ºè¿‡ç¨‹éœ€è¦å¯åŠ¨æµè§ˆå™¨ï¼Œé€Ÿåº¦ç›¸å¯¹è¾ƒæ…¢ã€‚é€‚åˆå¯¹æ„å»ºç¯å¢ƒæœ‰å®Œå…¨æ§åˆ¶æƒï¼Œä¸”ä»£ç ä¸­åŒ…å«å¤§é‡ä¾èµ–æµè§ˆå™¨ API (å¦‚ `window`, `document`) çš„åœºæ™¯ã€‚

æˆ‘ä»¬å°†ä½¿ç”¨ `vite-plugin-prerender` æ’ä»¶æ¥å®ç°é¢„æ¸²æŸ“ã€‚è¯¥æ’ä»¶åŸºäº Puppeteerï¼Œåœ¨æ„å»ºé˜¶æ®µå¯åŠ¨ä¸€ä¸ªæ— å¤´æµè§ˆå™¨ï¼Œè®¿é—®æŒ‡å®šè·¯ç”±å¹¶å°†æ¸²æŸ“ç»“æœä¿å­˜ä¸ºé™æ€ HTML æ–‡ä»¶ã€‚

### 1. å®‰è£…ä¾èµ–

```bash
npm install vite-plugin-prerender puppeteer -D
# æˆ–è€…
pnpm add vite-plugin-prerender puppeteer -D

    "vite-plugin-prerender": "^1.0.8",
    "puppeteer": "^19.7.0",
```

### 2. é…ç½® Vite (`vite.config.ts`)

åœ¨ `vite.config.ts` ä¸­å¼•å…¥å¹¶é…ç½®æ’ä»¶ï¼š

```typescript
import { defineConfig } from "vite";
import vue from "@vitejs/plugin-vue";
import path from "path";
import vitePrerender from "vite-plugin-prerender";

export default defineConfig({
  plugins: [
    vue(),
    vitePrerender({
      staticDir: path.join(__dirname, "dist"),
      routes: ["/about"],
      renderer: new vitePrerender.PuppeteerRenderer({
        maxConcurrentRoutes: 1,
        renderAfterTime: 5000,
      }),
      postProcess(renderedRoute) {
        renderedRoute.html = renderedRoute.html
          .replace(/http:\/\/localhost:\d+/g, "")
          .replace(/class="loader"/g, 'class="loader" style="display:none"');
        return renderedRoute;
      },
    }),
  ],
});
```

### 3. æ”¹é€ å…¥å£æ–‡ä»¶ (`main.ts`)

ä¸ºäº†ç¡®ä¿é¡µé¢å®Œå…¨æ¸²æŸ“åå†è¿›è¡ŒæŠ“å–ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ Vue æŒ‚è½½å®Œæˆåè§¦å‘ä¸€ä¸ªäº‹ä»¶ã€‚

```typescript
import { createApp } from "vue";
import App from "./App.vue";
import router from "./router";

const app = createApp(App);

app.use(router);

router.isReady().then(() => {
  app.mount("#app");
  // è§¦å‘é¢„æ¸²æŸ“äº‹ä»¶ï¼Œé€šçŸ¥ Puppeteer é¡µé¢å·²å‡†å¤‡å¥½
  document.dispatchEvent(new Event("render-event"));
});
```

### 4. åŠ¨æ€ Meta æ ‡ç­¾ç®¡ç†

SEO çš„æ ¸å¿ƒä¹‹ä¸€æ˜¯æ¯ä¸ªé¡µé¢è¦æœ‰ç‹¬ç«‹çš„ Title å’Œ Descriptionã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `@vueuse/head` (æˆ– `unhead`) æ¥ç®¡ç†ã€‚

**å®‰è£…:**

```bash
npm install @vueuse/head
```

**ä½¿ç”¨ (`main.ts`):**

```typescript
import { createHead } from "@vueuse/head";
const head = createHead();
app.use(head);
```

// åœ¨é¡µé¢ç»„ä»¶ä¸­ (`Home.vue`):

````vue
<script setup lang="ts">
import { useHead } from "@vueuse/head";

useHead({
  title: "é¦–é¡µ - æˆ‘çš„ Vue3 åº”ç”¨",
  meta: [
    {
      name: "description",
      content: "è¿™æ˜¯ Vue3 + Vite + TS åº”ç”¨çš„é¦–é¡µï¼ŒåŒ…å«æœ€æ–°çš„æŠ€æœ¯åˆ†äº«ã€‚",
    },
    { name: "keywords", content: "Vue3, Vite, TypeScript, SEO" },
    // Open Graph ç¤¾äº¤åˆ†äº«ä¼˜åŒ–
    { property: "og:title", content: "é¦–é¡µ - æˆ‘çš„ Vue3 åº”ç”¨" },
    {
      property: "og:description",
      content: "è¿™æ˜¯ Vue3 + Vite + TS åº”ç”¨çš„é¦–é¡µï¼ŒåŒ…å«æœ€æ–°çš„æŠ€æœ¯åˆ†äº«ã€‚",
    },
    { property: "og:image", content: "https://your-domain.com/share.png" },
  ],
  link: [
    // è§„èŒƒåŒ– URLï¼Œé˜²æ­¢é‡å¤å†…å®¹
    { rel: "canonical", href: "https://your-domain.com/" },
  ],
});
</script>

### 5. æ„å»ºä¸éªŒè¯ è¿è¡Œæ„å»ºå‘½ä»¤ï¼š ```bash npm run build
````

æ„å»ºå®Œæˆåï¼ŒæŸ¥çœ‹ `dist` ç›®å½•ï¼Œä½ ä¼šå‘ç°é™¤äº† `index.html`ï¼Œè¿˜ç”Ÿæˆäº† `about/index.html`, `contact/index.html` ç­‰æ–‡ä»¶å¤¹ã€‚

æ‰“å¼€è¿™äº› HTML æ–‡ä»¶ï¼Œä½ ä¼šçœ‹åˆ° `<div id="app">` å†…éƒ¨å·²ç»æœ‰äº†å®Œæ•´çš„ DOM ç»“æ„å’Œå†…å®¹ï¼Œè€Œä¸ä»…ä»…æ˜¯ç©ºçš„å ä½ç¬¦ã€‚è¿™å°±æ˜¯é¢„æ¸²æŸ“çš„æˆæœï¼

## ğŸš€ å®æˆ˜æ–¹æ¡ˆäºŒï¼šåŸºäº `vite-ssg` çš„ SSG æ”¹é€ 

> **âœ… æ¨è**ï¼šç›¸æ¯”äºæ–¹æ¡ˆä¸€ï¼Œ`vite-ssg` åŸºäº Node.js ç¯å¢ƒç›´æ¥æ¸²æŸ“ï¼Œæ— éœ€å¯åŠ¨æ— å¤´æµè§ˆå™¨ï¼Œæ„å»ºé€Ÿåº¦æ›´å¿«ï¼Œä¾èµ–æ›´è½»é‡ï¼Œæ˜¯ Vue3 ç”Ÿæ€ä¸­æ›´ç°ä»£çš„é™æ€åŒ–æ–¹æ¡ˆã€‚

å¦‚æœä½ å¸Œæœ›è·å¾—æ›´å½»åº•çš„é™æ€åŒ–ä½“éªŒï¼Œæˆ–è€…ä½ çš„åº”ç”¨ä¸»è¦ç”±é™æ€å†…å®¹ç»„æˆï¼ˆå¦‚åšå®¢ã€æ–‡æ¡£ï¼‰ï¼Œ`vite-ssg` æ˜¯ä¸€ä¸ªéå¸¸ä¼˜ç§€çš„ SSG æ–¹æ¡ˆã€‚å®ƒåœ¨æ„å»ºæ—¶å°† Vue åº”ç”¨æ¸²æŸ“ä¸ºé™æ€ HTMLï¼ŒåŒæ—¶ä¿ç•™äº†å®¢æˆ·ç«¯çš„æ°´åˆï¼ˆHydrationï¼‰èƒ½åŠ›ã€‚

### 1. å®‰è£…ä¾èµ–

```bash
npm install vite-ssg -D
# è·¯ç”±ä¾èµ–æ˜¯å¿…é¡»çš„
npm install vue-router
# æ¨èé…åˆ @vueuse/head ç®¡ç† SEO æ ‡ç­¾
npm install @vueuse/head
```

### 2. æ”¹é€ å…¥å£æ–‡ä»¶ (`main.ts`)

`vite-ssg` éœ€è¦å¯¼å‡ºä¸€ä¸ª `createApp` å‡½æ•°ï¼Œè€Œä¸æ˜¯ç›´æ¥æŒ‚è½½åº”ç”¨ã€‚**æ³¨æ„ï¼šè¿™ä¸æ–¹æ¡ˆä¸€çš„å…¥å£æ–‡ä»¶æ”¹é€ äº’æ–¥ï¼Œè¯·æ ¹æ®é€‰æ‹©çš„æ–¹æ¡ˆè¿›è¡Œè°ƒæ•´ã€‚**

```typescript
// main.ts
import { ViteSSG } from "vite-ssg";
import App from "./App.vue";
import routes from "./router/routes"; // éœ€å°†è·¯ç”±é…ç½®æŠ½ç¦»ä¸ºç‹¬ç«‹æ–‡ä»¶
import "./style.css";

// å¯¼å‡º ViteSSG å‡½æ•°
export const createApp = ViteSSG(
  // æ ¹ç»„ä»¶
  App,
  // è·¯ç”±é…ç½®
  { routes },
  // é’©å­å‡½æ•°
  ({ app, router, routes, isClient, initialState }) => {
    // åœ¨è¿™é‡Œå®‰è£…æ’ä»¶ï¼Œä¾‹å¦‚ Pinia, i18n ç­‰
    // app.use(createPinia())
  }
);
```

### 3. é…ç½® `package.json`

ä¿®æ”¹æ„å»ºè„šæœ¬ä»¥ä½¿ç”¨ `vite-ssg` è¿›è¡Œæ„å»ºã€‚

```json
{
  "scripts": {
    "dev": "vite",
    "build": "vite-ssg build",
    "preview": "vite preview"
  }
}
```

### 4. å±€éƒ¨é¡µé¢é™æ€åŒ–ä¸é…ç½®

`vite-ssg` é»˜è®¤ä¼šæŠ“å–æ‰€æœ‰è·¯ç”±ã€‚å¦‚æœä½ åªæƒ³é’ˆå¯¹ç‰¹å®šé¡µé¢ï¼ˆå¦‚é¦–é¡µ `/` å’Œå…³äºé¡µ `/about`ï¼‰è¿›è¡Œ SEO ä¼˜åŒ–ï¼Œæˆ–è€…éœ€è¦å¤„ç†åŠ¨æ€è·¯ç”±ï¼Œå¯ä»¥åœ¨ `vite.config.ts` ä¸­é…ç½® `ssgOptions`ã€‚

```typescript
// vite.config.ts
import { defineConfig } from "vite";
import vue from "@vitejs/plugin-vue";

export default defineConfig({
  plugins: [vue()],
  // SSG ä¸“ç”¨é…ç½®
  ssgOptions: {
    script: "async",
    formatting: "minify",
    // ç²¾ç¡®æ§åˆ¶è¦ç”Ÿæˆçš„é™æ€è·¯ç”±
    includedRoutes(paths, routes) {
      // æ€»æ˜¯åŒ…å«é¦–é¡µå’Œ about é¡µï¼Œå¿½ç•¥å…¶ä»–
      return ["/", "/about"];
      // æˆ–è€…åŸºäºçˆ¬å–ç»“æœè¿‡æ»¤
      // return paths.filter(i => !i.includes('admin'))
    },
    // å¤„ç†åŠ¨æ€è·¯ç”±çš„å›è°ƒ
    onFinished() {
      console.log("SSG æ„å»ºå®Œæˆ");
    },
  },
});
```

## ğŸŒŸ è¿›é˜¶ä¼˜åŒ–

### 1. ç”Ÿæˆ Sitemap

ä½¿ç”¨ `vite-plugin-sitemap` è‡ªåŠ¨ç”Ÿæˆç«™ç‚¹åœ°å›¾ï¼Œæ–¹ä¾¿æœç´¢å¼•æ“æ”¶å½•ã€‚

```bash
npm install vite-plugin-sitemap -D
```

```typescript
// vite.config.ts
import Sitemap from "vite-plugin-sitemap";

export default defineConfig({
  plugins: [
    // ...
    Sitemap({
      hostname: "https://your-domain.com",
      dynamicRoutes: ["/", "/about", "/contact"],
    }),
  ],
});
```

### 2. Nginx é…ç½®

é¢„æ¸²æŸ“ç”Ÿæˆçš„ç›®å½•ç»“æ„é€šå¸¸æ˜¯ `è·¯ç”±/index.html`ã€‚Nginx éœ€è¦é…ç½® `try_files` ä»¥æ­£ç¡®æœåŠ¡è¿™äº›æ–‡ä»¶ã€‚åŒæ—¶å»ºè®®å¼€å¯ Gzip/Brotli å‹ç¼©ä»¥æå‡åŠ è½½é€Ÿåº¦ã€‚

```nginx
server {
    listen 80;
    server_name your-domain.com;
    root /usr/share/nginx/html;
    index index.html;

    # å¼€å¯ Gzip å‹ç¼©
    gzip on;
    gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;

    location / {
        # å°è¯•æŸ¥æ‰¾ $uri/index.html (é¢„æ¸²æŸ“æ–‡ä»¶) -> $uri -> index.html (SPA å›é€€)
        try_files $uri $uri/index.html /index.html;
    }
}
```

## ğŸ“ æ€»ç»“

å¯¹äº Vue3 + Vite çš„å•é¡µåº”ç”¨ï¼Œ**é¢„æ¸²æŸ“ (Prerendering)** å’Œ **SSG (é™æ€ç«™ç‚¹ç”Ÿæˆ)** æ˜¯å®ç° SEO æœ€å¿«ã€æˆæœ¬æœ€ä½çš„è·¯å¾„ã€‚

- **æ–¹æ¡ˆä¸€ (vite-plugin-prerender)**: é€‚åˆè€æ—§é¡¹ç›®æ”¹é€ ï¼Œæˆ–è€…å¼ºä¾èµ–æµè§ˆå™¨ç¯å¢ƒçš„åœºæ™¯ã€‚ä½†æ„å»ºè¾ƒæ…¢ï¼Œä¾èµ– Puppeteerã€‚
- **æ–¹æ¡ˆäºŒ (vite-ssg)**: **æ¨èé¦–é€‰**ã€‚é€‚åˆæ–°é¡¹ç›®æˆ–åšå®¢/æ–‡æ¡£ç±»åº”ç”¨ã€‚æ„å»ºå¿«ï¼Œä¾èµ–å°‘ï¼Œä½“éªŒæ›´æ¥è¿‘åŸç”Ÿ SSRã€‚
- **é€‚ç”¨èŒƒå›´**: å®˜ç½‘ã€è¥é”€é¡µã€æ–‡æ¡£ç«™ç­‰é™æ€å†…å®¹è¾ƒå¤šçš„åœºæ™¯ã€‚
- **å±€é™æ€§**: å¯¹äºæµ·é‡åŠ¨æ€æ•°æ®ï¼ˆå¦‚ç”µå•†è¯¦æƒ…é¡µï¼‰ï¼Œå»ºè®®è€ƒè™‘ Nuxt.js SSR æ–¹æ¡ˆã€‚

é€šè¿‡æœ¬æ–‡çš„å®è·µï¼Œä½ å¯ä»¥è½»æ¾è®©ä½ çš„ Vue3 SPA é¡¹ç›®è¢«æœç´¢å¼•æ“å‹å¥½æ”¶å½•ï¼Œè·å–æ›´å¤šè‡ªç„¶æµé‡ã€‚
