---
title: 2025-03-18-【大模型】n8n工作流实践
date: 2025-03-18 20:39:00
categories:
  - 大模型
tags:
  - AI
  - n8n
  - Workflow
---

## 1. AI 自动化概述

### 什么是 AI 自动化？

AI 自动化是指利用人工智能技术（如 LLM）结合工作流工具，自动执行复杂的业务流程。它不仅能处理结构化数据，还能理解文本、图像等非结构化信息。

### 核心应用场景

- **智能客服**：自动回复用户咨询，分类工单。
- **内容生产**：自动生成营销文案、博客摘要、社交媒体帖子。
- **个人助理**：邮件智能归档、会议纪要整理、日程安排。
- **数据分析**：自动抓取网页数据并生成分析报告。

### 主流工具对比

- **Zapier / Make**：SaaS 平台，上手简单，但免费额度少，数据存储在云端。
- **n8n**：**首选推荐**。支持 Docker 私有化部署，数据安全可控，节点生态丰富，且社区版免费功能强大。

---

## 2. n8n 环境搭建

推荐使用 Docker 进行部署，既方便又安全。

### Docker 部署命令

```bash
# 1. 创建持久化数据卷（防止重启后数据丢失）
docker volume create n8n_data

# 2. 启动 n8n 容器
docker run -it --rm \
  --name n8n \
  -p 5678:5678 \
  -v n8n_data:/home/node/.n8n \
  -e N8N_SECURE_COOKIE=false \
  docker.n8n.io/n8nio/n8n
```

启动成功后，访问 `http://localhost:5678` 即可进入可视化编辑器。

---

## 3. 核心组件配置指南

要构建强大的 AI 工作流，通常需要配合以下服务：

### 3.1 大模型接入 (OpenRouter)

OpenRouter 聚合了 DeepSeek、Claude 3、GPT-4 等主流模型，通过统一 API 调用。

- **注册地址**：[OpenRouter Settings](https://openrouter.ai/settings/keys)
- **配置方式**：在 n8n 中使用 `OpenAI Chat Model` 节点，Base URL 填写 `https://openrouter.ai/api/v1`，API Key 填入 OpenRouter 的 Key。

### 3.2 知识库与笔记 (Notion)

作为 AI 的长期记忆或内容输出地。

- **集成配置**：[Notion Integrations](https://www.notion.so/profile/integrations)
- **注意**：创建 Integration 后，需要在具体的 Notion 页面点击右上角 `...` -> `Connect` -> 选择你的 Integration，n8n 才能读写该页面。

### 3.3 交互终端 (Telegram Bot)

最便捷的移动端交互入口。

1.  在 Telegram 搜索 `@BotFather`。
2.  发送 `/newbot` 创建机器人，获取 `HTTP API Token`。
3.  获取 Chat ID：访问 `https://api.telegram.org/bot<YourToken>/getUpdates` 并给机器人发一条消息，查看返回 JSON 中的 `chat.id`。

### 3.4 网页抓取 (Crawl4AI)

为 AI 提供实时联网阅读能力。

```bash
# 部署 Crawl4AI 服务
docker run --rm -it -e CRAWL4AI_API_TOKEN=12345 -p 11235:11235 unclecode/crawl4ai:latest
```

### 3.5 进阶：MCP (Model Context Protocol)

MCP 是 Anthropic 推出的开放协议，类似于 AI 的 "USB 接口"。

- **作用**：让 AI 模型能够标准化地连接本地文件、数据库、GitHub 等资源。
- **架构**：Client (n8n) <-> Server (MCP 服务)。
- **价值**：通过 MCP，AI 可以直接执行“读取本地代码库并修复 Bug”等复杂任务。

---

## 4. 附录：主流 AI 知识库/应用平台对比

| 特性/平台    | MaxKb                    | AnythingLLM              | Dify                   | FastGPT             | RagFlow                 |
| :----------- | :----------------------- | :----------------------- | :--------------------- | :------------------ | :---------------------- |
| **核心定位** | 纯粹的知识库管理         | 全能型 RAG 桌面应用      | AI 应用开发平台 (BaaS) | 简易版 GPT 部署工具 | 深度文档理解 RAG 引擎   |
| **适用场景** | 企业文档检索、内网知识库 | 个人/小团队私有化 RAG    | 构建 Agent、复杂工作流 | 快速搭建客服机器人  | 处理 PDF/表格等复杂文档 |
| **模型支持** | 自定义接入               | 支持本地 (Ollama) 及云端 | 广泛支持各类模型       | 侧重 GPT 系列       | API 集成                |
| **部署难度** | ⭐                       | ⭐⭐                     | ⭐⭐                   | ⭐                  | ⭐⭐⭐                  |
| **扩展性**   | 有限                     | 高                       | 极高 (支持插件/工具)   | 中等                | 高                      |

---

## 5. 资源推荐

- **n8n 官方模版库**：[https://n8n.io/workflows/](https://n8n.io/workflows/)
- **DeepSeek 官网**：[https://www.deepseek.com/](https://www.deepseek.com/)
